<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>pyqt基础开发一 | 个人主页</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="## 简单对比原生开发和Qt开发的不同之处。  Qt开发似乎需要写更多的代码，需要更复杂的操作。  其实不慌，当你学习了 QtDesigner 之后，你就会开始觉得原生开发是多么地不人性化了:-)">
<meta name="keywords" content="python,python基础">
<meta property="og:type" content="article">
<meta property="og:title" content="pyqt基础开发一">
<meta property="og:url" content="https://github.com/zuokangbo/zuokangbo.github.io/2019/06/16/share/pyqt基础开发/index.html">
<meta property="og:site_name" content="个人主页">
<meta property="og:description" content="## 简单对比原生开发和Qt开发的不同之处。  Qt开发似乎需要写更多的代码，需要更复杂的操作。  其实不慌，当你学习了 QtDesigner 之后，你就会开始觉得原生开发是多么地不人性化了:-)">
<meta property="og:image" content="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/01.gif">
<meta property="og:image" content="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/02.gif">
<meta property="og:image" content="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/03.png">
<meta property="og:image" content="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/04.png">
<meta property="og:image" content="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/05.png">
<meta property="og:image" content="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/06.png">
<meta property="og:image" content="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/07.png">
<meta property="og:image" content="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/08.png">
<meta property="og:image" content="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/09.gif">
<meta property="og:image" content="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/10.png">
<meta property="og:image" content="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/11.gif">
<meta property="og:image" content="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/12.png">
<meta property="og:image" content="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/13.png">
<meta property="og:image" content="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/14.png">
<meta property="og:image" content="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/21.png">
<meta property="og:image" content="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/15.png">
<meta property="og:image" content="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/20.png">
<meta property="og:image" content="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/16.png">
<meta property="og:image" content="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/17.png">
<meta property="og:image" content="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/18.png">
<meta property="og:image" content="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/19.png">
<meta property="og:updated_time" content="2019-06-16T14:14:00.198Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="pyqt基础开发一">
<meta name="twitter:description" content="## 简单对比原生开发和Qt开发的不同之处。  Qt开发似乎需要写更多的代码，需要更复杂的操作。  其实不慌，当你学习了 QtDesigner 之后，你就会开始觉得原生开发是多么地不人性化了:-)">
<meta name="twitter:image" content="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/01.gif">
  
    <link rel="alternate" href="/atom.xml" title="个人主页" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/plugin/bganimation/bg.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <div class="outer">
        <div class="widget-wrap mobile-header">
  <h3 class="widget-title"></h3>
  <div class="widget">
    <img class="avatar" src="https://avatars0.githubusercontent.com/u/20333903?v=3&amp;s=460">
    <h2 class="author">左康波</h2>
    <h3 class="description">业余文艺cg场景模型师</h3>
    <div class="count-box">
      <a href="/archives"><div><strong>46</strong><br>文章</div></a>
      <a href="/categories"><div><strong>19</strong><br>分类</div></a>
      <a href="/tags"><div><strong>46</strong><br>标签</div></a>
    </div>
    <ul class="blog-link">
     
          <a href="/" title="Home">
            <li>主页</li>
          </a>
        
          <a href="/archives" title="Archives">
            <li>归档</li>
          </a>
        
          <a href="/categories" title="Categories">
            <li>分类</li>
          </a>
        
          <a href="/tags" title="Tags">
            <li>标签</li>
          </a>
        
    </ul>
  </div>
</div>

        <section id="main"><article id="post-share/pyqt基础开发" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/06/16/share/pyqt基础开发/" class="article-date">
  <time class="post-time" datetime="2019-06-16T14:07:00.316Z" itemprop="datePublished">
    <span class="post-month">6月</span><br/>
    <span class="post-day">16</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      pyqt基础开发一
    </h1>
  

        <div>
          
  <div class="article-category">
    <a class="article-category-link" href="/categories/python/">python</a>
  </div>

          
              
  &nbsp; | &nbsp;
  <div class="view-box">
    <span id="/2019/06/16/share/pyqt基础开发/" class="leancloud_visitors" data-flag-title="pyqt基础开发一">
      &nbsp;阅读次数<span class="leancloud-visitors-count"></span>
    </span>
  </div>


          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>## 简单对比原生开发和Qt开发的不同之处。<br>  Qt开发似乎需要写更多的代码，需要更复杂的操作。<br>  其实不慌，当你学习了 QtDesigner 之后，你就会开始觉得原生开发是多么地不人性化了:-)<br><a id="more"></a><br>

<div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
      
      <div class="article-info article-info-post">
        



        
          <div class="article-meta">
          
          </div>
        
        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="QtDesigner-介绍-amp-入门"><a href="#QtDesigner-介绍-amp-入门" class="headerlink"></a>QtDesigner 介绍&amp;入门</h1><a id="more"></a>
<h2 id="前言"><a href="#前言" class="headerlink"></a>前言</h2><blockquote>
<p>&emsp;&emsp;简单对比原生开发和Qt开发的不同之处。<br>&emsp;&emsp;Qt开发似乎需要写更多的代码，需要更复杂的操作。<br>&emsp;&emsp;其实不慌，当你学习了 QtDesigner 之后，你就会开始觉得原生开发是多么地不人性化了:-)</p>
</blockquote>
<h2 id="什么是-QtDesigner"><a href="#什么是-QtDesigner" class="headerlink"></a>什么是 QtDesigner</h2><blockquote>
<p>&emsp;&emsp;QtDesigner是由官方推出并维护的，图形化界面制作窗口的工具。<br>&emsp;&emsp;如果你接触过 Android 开发 以及 Web前端的 Bootstrap 可视化，都可以感受到这种拖拽开发的快速之处。<br>&emsp;&emsp;当然目前我觉得图形化拖拽做得最好的还是QtDsigner。<br><a data-fancybox-href="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/01.gif" title="Android Studio 图形化界面开发" rel="fancy-group" class="fancy-ctn fancybox"><img src="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/01.gif" title="Android Studio 图形化界面开发"></a><br><a data-fancybox-href="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/02.gif" title="Bootstrap 可视化开发" rel="fancy-group" class="fancy-ctn fancybox"><img src="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/02.gif" title="Bootstrap 可视化开发"></a></p>
</blockquote>
<!-- ![alt](https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/02.gif) -->
<h2 id="安装Qt-Designer"><a href="#安装Qt-Designer" class="headerlink"></a>安装Qt Designer</h2><blockquote>
<p>&emsp;&emsp;安装Qt Designer 的方法有很多</p>
<ul>
<li>安装官方提供的 Qt Creator 开发软件</li>
<li>安装任意 Qt Python包</li>
<li>安装Maya自带Qt Designer</li>
</ul>
</blockquote>
<h3 id="Qt-Creator"><a href="#Qt-Creator" class="headerlink"></a>Qt Creator</h3><blockquote>
<p>&emsp;&emsp;Qt Creator是一个IDE，是针对Qt优化的 C++ 开发平台，里面内置了许多Qt开发相关的工具，Qt Designer 就在其中。<br>&emsp;&emsp;具体安装流程参考网上的<a href="https://blog.csdn.net/qq_23473839/article/details/80523318" target="_blank" rel="noopener">文章</a></p>
</blockquote>
<h3 id="Qt-Python-包"><a href="#Qt-Python-包" class="headerlink"></a>Qt Python 包</h3><blockquote>
<p>&emsp;&emsp;安装任意Qt Python 包<br>&emsp;&emsp;只要安装好 Python 环境，可以打开cmd控制台，通过 pip 安装相关的 Pyhton 包<br>&emsp;&emsp;另外需要注意的是，如果安装旧版本的 PyQt4 ，已经无法直接通过 pip install 安装，需要手动到对应的网站下载 wheel 进行安装。<a href="https://blog.csdn.net/wlanye/article/details/83855668" target="_blank" rel="noopener">参考</a><br>&emsp;&emsp;当你安装好之后，你可以在 Pyhton 的 site-packages 目录下找到 PyQt4 文件夹<br><a data-fancybox-href="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/03.png" title="PyQt4 文件夹" rel="fancy-group" class="fancy-ctn fancybox"><img src="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/03.png" title="PyQt4 文件夹"></a><br>&emsp;&emsp;打开目录可以找到 designer.exe 程序<br><a data-fancybox-href="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/04.png" title="designer.exe 程序" rel="fancy-group" class="fancy-ctn fancybox"><img src="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/04.png" title="designer.exe 程序"></a></p>
</blockquote>
<h3 id="Maya-自带-Qt-Designer"><a href="#Maya-自带-Qt-Designer" class="headerlink"></a>Maya 自带 Qt Designer</h3><blockquote>
<p>&emsp;&emsp;打开 maya 的安装路径<br>&emsp;&emsp;可以在 bin 目录下找到 designer.exe 程序<br><a data-fancybox-href="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/05.png" title="designer.exe 程序" rel="fancy-group" class="fancy-ctn fancybox"><img src="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/05.png" title="designer.exe 程序"></a><br>&emsp;&emsp;maya中的 designer.exe 程序打开可能会报错<br><a data-fancybox-href="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/06.png" title="报错" rel="fancy-group" class="fancy-ctn fancybox"><img src="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/06.png" title="报错"></a><br>&emsp;&emsp;网上可以找到解决方案 <a href="https://www.cnblogs.com/ibingshan/p/9784087.html" target="_blank" rel="noopener">参考</a></p>
</blockquote>
<h2 id="初始-Qt-Designer"><a href="#初始-Qt-Designer" class="headerlink"></a>初始 Qt Designer</h2><blockquote>
<p>&emsp;&emsp;启动 Qt Designer 之后可以看到如下画面<br><a data-fancybox-href="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/07.png" title="Qt Designer 初始界面" rel="fancy-group" class="fancy-ctn fancybox"><img src="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/07.png" title="Qt Designer 初始界面"></a><br>&emsp;&emsp;我们可以选择 widget 创建出窗口<br><a data-fancybox-href="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/08.png" title="创建 Widget 窗口" rel="fancy-group" class="fancy-ctn fancybox"><img src="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/08.png" title="创建 Widget 窗口"></a><br>&emsp;&emsp;下面就可以拖拽左侧的组件到窗口上<br><a data-fancybox-href="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/09.gif" title="创建排列UI" rel="fancy-group" class="fancy-ctn fancybox"><img src="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/09.gif" title="创建排列UI"></a><br>&emsp;&emsp;注：按住 ctrl 拖拽可以快速复制组件<br><a data-fancybox-href="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/10.png" title="布局按钮" rel="fancy-group" class="fancy-ctn fancybox"><img src="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/10.png" title="布局按钮"></a><br>&emsp;&emsp;窗口上方的这些按钮可以改变窗口的布局，也可以从左侧拖拽相关的布局到窗口上。<br>&emsp;&emsp;Qt 自带的布局我上期教程也有提及过，最常用的有</p>
<ul>
<li>QHBoxLayout - 横向布局</li>
<li>QVBoxLayout - 竖向布局</li>
<li>QGridLayout - 网格布局</li>
</ul>
<p>&emsp;&emsp;通过这些布局就可以让组件等分排布，从而减少UI的凌乱感<br>&emsp;&emsp;横向布局 就是将布局内部的组件 横向等分排列<br>&emsp;&emsp;竖向布局 也顾名思义<br>&emsp;&emsp;<br>&emsp;&emsp;网格布局 则需要给定网格的位置对网格进行等分，也可以让组件占用多个网格，或者空出多余的网格。<br>&emsp;&emsp;通过网格布局可以排列出下面这种形态组件状态。<br><a data-fancybox-href="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/11.gif" title="网格布局" rel="fancy-group" class="fancy-ctn fancybox"><img src="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/11.gif" title="网格布局"></a></p>
</blockquote>
<blockquote>
<p>&emsp;&emsp;在 Qt Designer 的右侧有属性编辑器以及对象查看器的大纲视图<br>&emsp;&emsp;属性编辑器可以编辑UI的属性，不过很多时候，是用代码来动态修改这些属性。<br><a data-fancybox-href="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/12.png" title="XML文件" rel="fancy-group" class="fancy-ctn fancybox"><img src="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/12.png" title="XML文件"></a><br>&emsp;&emsp;通常情况下，objectName比较重要，因为后面代码调用的时候会通过 objectName 的属性来调用。<br>&emsp;&emsp;当你创建完成 UI 之后，就可以 ctrl+s 保存当前编辑的文件<br>&emsp;&emsp;Qt Designer 会输出一个后缀为 ui 的文件<br>&emsp;&emsp;如果你用文本编辑器打开 ui 文件，你会发现其实它是个XML文件<br><a data-fancybox-href="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/13.png" title="XML文件" rel="fancy-group" class="fancy-ctn fancybox"><img src="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/13.png" title="XML文件"></a><br>&emsp;&emsp;因此当你熟悉了它XML输出的格式也可以通过魔改XML里面的内容来生成出特殊的组件文件。</p>
</blockquote>
<h2 id="在-maya-中调用-ui-文件"><a href="#在-maya-中调用-ui-文件" class="headerlink"></a>在 maya 中调用 ui 文件</h2><blockquote>
<p>&emsp;&emsp;默认情况下 ui 文件只是 XML 配置而已，是无法直接使用的。<br>&emsp;&emsp;不过也有多种情况让ui文件运行起来</p>
<ul>
<li>通过 python Qt 框架下的 pyuic5 或者 pyside2-uic 将 ui 文件编译为 python 文件</li>
<li>导入uic相关的python模块，通过读取 ui 文件的内容动态编译python代码</li>
<li>直接用 maya 内置的命令编译 ui 文件</li>
</ul>
</blockquote>
<h3 id="编译-ui-文件"><a href="#编译-ui-文件" class="headerlink"></a>编译 ui 文件</h3><blockquote>
<p>&emsp;&emsp;在maya安装目录的bin目录下有 pyside2-uic 程序  - <a href="1547a34f.html#环境变量-扩展">如何使用CMD命令我在第三期教程做了补充</a><br><a data-fancybox-href="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/14.png" title="pyside2-uic 程序" rel="fancy-group" class="fancy-ctn fancybox"><img src="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/14.png" title="pyside2-uic 程序"></a></p>
</blockquote>
<blockquote>
<p>&emsp;&emsp;这个程序要运行起来需要添加 .exe 后缀，而且在我的电脑上运行会出现报错。<br><a data-fancybox-href="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/21.png" title="pyside2-uic编译程序" rel="fancy-group" class="fancy-ctn fancybox"><img src="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/21.png" title="pyside2-uic编译程序"></a><br>&emsp;&emsp;注: bin 目录下还有 uic.exe 程序是可用的，只不过编译出来的文件是 C++ 代码 <em>(:з」∠)</em></p>
</blockquote>
<blockquote>
<p>&emsp;&emsp;因此如果maya内置uic编译器不可用的话，可以通过安装相关的 Python Qt 库，可以在相关路径下找到编译程序<br><a data-fancybox-href="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/15.png" title="PyQt 包下的 编译程序" rel="fancy-group" class="fancy-ctn fancybox"><img src="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/15.png" title="PyQt 包下的 编译程序"></a><br><a data-fancybox-href="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/20.png" title="pyside2-uic编译程序" rel="fancy-group" class="fancy-ctn fancybox"><img src="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/20.png" title="pyside2-uic编译程序"></a><br>&emsp;&emsp;通过命令行调用这个程序后面加上 -h 可以显示出使用方法<br><a data-fancybox-href="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/16.png" title="pyside2-uic 程序 帮助" rel="fancy-group" class="fancy-ctn fancybox"><img src="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/16.png" title="pyside2-uic 程序 帮助"></a></p>
</blockquote>
<figure class="highlight bash resize0" data-lang="bash"><div style="position: absolute; top: 14385.4px; right: 2em;"><button type="button" class="btn btn-primary" id="copyBtn0" data-clipboard-action="copy" data-clipboard-target=".code0">复制</button></div><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code code0"><pre><span class="line">pyside2-uic C:\Users\Administrator\Desktop\img\test.ui -o C:\Users\Administrator\Desktop\img\test_ui.py</span><br></pre></td></tr></tbody></table><style>.highlight.resize0::before{width:1072px}</style></figure>
<blockquote>
<p>&emsp;&emsp;基本写法就是： <code>程序名 ui文件 -o 输出的python文件</code><br>&emsp;&emsp;这样就可以将 ui 文件 编译为 python 文件，不过需要注意的是 PyQt的编译 maya 需要 改为 PySide 的库进行导入<br>&emsp;&emsp;编译好的文件可以通过继承的方法来调用。</p>
</blockquote>
<figure class="highlight python resize1" data-lang="python"><div style="position: absolute; top: 14649.4px; right: 2em;"><button type="button" class="btn btn-primary" id="copyBtn1" data-clipboard-action="copy" data-clipboard-target=".code1">复制</button></div><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code code1"><pre><span class="line"><span class="comment"># 编译好的 ui 文件 导入其中的类(类名和UI文件当中的最外层的组件的objectName一致)</span></span><br><span class="line"><span class="keyword">from</span> test_ui <span class="keyword">import</span> Ui_Form</span><br><span class="line"><span class="keyword">from</span> PySide2.QtGui <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PySide2.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PySide2.QtCore <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">window</span><span class="params">(Ui_Form,QWidget)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment"># 执行 QWidget 的 __init__ </span></span><br><span class="line">        super(window,self).__init__()</span><br><span class="line">        <span class="comment"># 从 Ui_Form 继承的方法，可以直接将ui生成出来</span></span><br><span class="line">        self.setupUi(self)</span><br><span class="line">        self.setWindowTitle(<span class="string">u"用 pyside2-uic 程序编译python 继承出来的窗口"</span>)</span><br><span class="line">        self.show()</span><br><span class="line">        </span><br><span class="line">win = window()</span><br></pre></td></tr></tbody></table><style>.highlight.resize1::before{width:1072px}</style></figure>
<p><a data-fancybox-href="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/17.png" title="代码执行效果" rel="fancy-group" class="fancy-ctn fancybox"><img src="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/17.png" title="代码执行效果"></a></p>
<h3 id="直接用代码编译"><a href="#直接用代码编译" class="headerlink"></a>直接用代码编译</h3><blockquote>
<p>&emsp;&emsp;此处可以参考我以前看教程写的<a href="ef451c1b.html">文章</a></p>
</blockquote>
<figure class="highlight python resize2" data-lang="python"><div style="position: absolute; top: 15854.5px; right: 2em;"><button type="button" class="btn btn-primary" id="copyBtn2" data-clipboard-action="copy" data-clipboard-target=".code2">复制</button></div><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code code2"><pre><span class="line"><span class="keyword">from</span> PySide2.QtCore <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PySide2.QtGui <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> PySide2.QtWidgets <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> pyside2uic</span><br><span class="line"><span class="keyword">import</span> xml.etree.ElementTree <span class="keyword">as</span> xml</span><br><span class="line"><span class="keyword">from</span> cStringIO <span class="keyword">import</span> StringIO</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">loadUiType</span><span class="params">(uiFile)</span>:</span></span><br><span class="line">    <span class="comment"># 通过XML模块读取ui文件</span></span><br><span class="line">    parsed = xml.parse(uiFile)</span><br><span class="line">    <span class="comment"># 获取Qt相关的组件名</span></span><br><span class="line">    widget_class = parsed.find(<span class="string">'widget'</span>).get(<span class="string">'class'</span>)</span><br><span class="line">    <span class="comment"># 获取类名</span></span><br><span class="line">    form_class = parsed.find(<span class="string">'class'</span>).text</span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> open(uiFile, <span class="string">'r'</span>) <span class="keyword">as</span> f:</span><br><span class="line">        o = StringIO()</span><br><span class="line">        frame = {}</span><br><span class="line">        <span class="comment"># 通过 pyside2uic 编译 ui 文件</span></span><br><span class="line">        pyside2uic.compileUi(f, o, indent=<span class="number">0</span>)</span><br><span class="line">        <span class="comment"># o.getvalue() 这里的数据就是 UI 文件编程python的代码，通过 exec 执行这个字符串</span></span><br><span class="line">        pyc = compile(o.getvalue(), <span class="string">'&lt;string&gt;'</span>, <span class="string">'exec'</span>)</span><br><span class="line">        <span class="keyword">exec</span> pyc <span class="keyword">in</span> frame</span><br><span class="line"></span><br><span class="line">        <span class="comment"># form_class 就是ui文件编译出来的类名</span></span><br><span class="line">        form_class = frame[<span class="string">'Ui_%s'</span>%form_class]</span><br><span class="line">        <span class="comment"># base_class 就是Qt的窗口组件 eval 获取出 变量</span></span><br><span class="line">        base_class = eval(<span class="string">'%s'</span>%widget_class)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> form_class, base_class</span><br><span class="line"></span><br><span class="line">UI_PATH = <span class="string">r"C:\Users\Administrator\Desktop\test.ui"</span></span><br><span class="line">form_class , base_class = loadUiType(UI_PATH)</span><br><span class="line"><span class="comment"># 这里的继承其实和上面编译好的 ui 文件的代码是一样的</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Interface</span><span class="params">(base_class,form_class)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        super(Interface,self).__init__()</span><br><span class="line">        self.setupUi(self)</span><br><span class="line">        self.setWindowTitle(<span class="string">u"用 pyside2uic 编译出来的窗口"</span>)</span><br><span class="line">        self.show()</span><br><span class="line">ui = Interface()</span><br></pre></td></tr></tbody></table><style>.highlight.resize2::before{width:1072px}</style></figure>
<p><a data-fancybox-href="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/18.png" title="代码执行效果" rel="fancy-group" class="fancy-ctn fancybox"><img src="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/18.png" title="代码执行效果"></a></p>
<blockquote>
<p>&emsp;&emsp;通过这个函数可以直接将ui文件在编译到内存当中，这样每次修改ui文件就不需要再额外用 exe 工具进行编译了<br>&emsp;&emsp;当然缺点就是没有了ui编译好的python文件，组件的自动代码提示也就没有了，所以开发的时候还需要对着 Qt Designer 的名字，有点麻烦。</p>
</blockquote>
<blockquote>
<p>&emsp;&emsp;额外补充一下，上述的方案只适用于 PySide ，如果使用PyQt实现的话，代码会简略很多。</p>
</blockquote>
<figure class="highlight python resize3" data-lang="python"><div style="position: absolute; top: 17696.1px; right: 2em;"><button type="button" class="btn btn-primary" id="copyBtn3" data-clipboard-action="copy" data-clipboard-target=".code3">复制</button></div><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code code3"><pre><span class="line"><span class="keyword">from</span> PyQt4 <span class="keyword">import</span> uic</span><br><span class="line">form_class , base_class = uic.loadUiType(UI_PATH)</span><br></pre></td></tr></tbody></table><style>.highlight.resize3::before{width:1072px}</style></figure>
<h3 id="maya-内置命令编译UI文件"><a href="#maya-内置命令编译UI文件" class="headerlink"></a>maya 内置命令编译UI文件</h3><blockquote>
<p>&emsp;&emsp;maya的 mel 有 <a href="http://help.autodesk.com/cloudhelp/2018/ENU/Maya-Tech-Docs/Commands/loadUI.html" target="_blank" rel="noopener">loadUi</a> 命令，可以直接将ui文件路径读取 生成出 maya 的窗口</p>
</blockquote>
<figure class="highlight mel resize4" data-lang="mel"><div style="position: absolute; top: 17971px; right: 2em;"><button type="button" class="btn btn-primary" id="melBtn4">MEL原生样式</button><button type="button" class="btn btn-primary" id="copyBtn4" data-clipboard-action="copy" data-clipboard-target=".code4">复制</button></div><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code code4"><pre><span class="line"><span class="mel_command">string</span> $dialog1 = <span class="mel_string">`loadUI -f "C:\\Users\\Administrator\\Desktop\\test.ui"`</span>;</span><br><span class="line"><span class="mel_keyword">window</span> -e -title <span class="mel_string">"通过 mel 编译的 ui 文件"</span> $dialog1;</span><br><span class="line"><span class="mel_keyword">showWindow</span> $dialog1;</span><br></pre></td></tr></tbody></table><style>.highlight.resize4::before{width:1072px}</style></figure>
<p><a data-fancybox-href="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/19.png" title="代码执行效果" rel="fancy-group" class="fancy-ctn fancybox"><img src="https://blog-image-1257068932.cos.ap-guangzhou.myqcloud.com/Python%20QT/session2/19.png" title="代码执行效果"></a></p>
<h2 id="总结"><a href="#总结" class="headerlink"></a>总结</h2><blockquote>
<p>&emsp;&emsp;Qt designer 的使用并不复杂，虽然Qt Designer 支持信号槽等比较高级的开发内容，但是由于很难通过 XML 来实现所需要的触发效果，因此难当大任。<br>&emsp;&emsp;我目前使用 Qt designer 也是为了快速创建出UI界面，毕竟手打界面的效率还是比较低的，特别是还要考虑各种固定组件的布局位置。<br>&emsp;&emsp;后续的组件触发大都是放在 python 代码当中完成。<br>&emsp;&emsp;如果想要更进一步了解 Qt Designer 的开发，可以参考B站上的教程</p>
<ul>
<li><a href="https://www.bilibili.com/video/av36210854" target="_blank" rel="noopener">Python桌面系统开发 PYQT5全套教程</a></li>
</ul>
</blockquote>

      
    </div>

    
  </div>

</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/zuokangbo/zuokangbo.github.io/2019/06/16/share/pyqt基础开发/" data-id="cjzzjtpit0070bksdb92vwuic" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/">python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python基础/">python基础</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2019/06/22/share/python学习_3/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Python系列（三）之高级特性
        
      </div>
    </a>
  
  
    <a href="/2019/06/15/share/WorldMachine基础/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">关于WorldMachine基础介绍</div>
    </a>
  
</nav>

  
</article>




  <div id="comments" class="comments">
    <div id="uyan_frame"></div>
  </div>
<script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid=true"></script>
</section>
        
          <aside id="sidebar">
  
    <div class="widget-wrap">
  <h3 class="widget-title"></h3>
  <div class="widget">
    <h1 class="blog-title">个人主页</h1>
    <h2 class="blog-subtitle">愿我的只言片语，为你的成长带来帮助！</h2>
    <ul class="blog-link">
     
          <a href="/" title="Home">
            <li>主页</li>
          </a>
        
          <a href="/archives" title="Archives">
            <li>归档</li>
          </a>
        
          <a href="/categories" title="Categories">
            <li>分类</li>
          </a>
        
          <a href="/tags" title="Tags">
            <li>标签</li>
          </a>
        
    </ul>
  </div>
</div>

  
    <div class="widget-wrap">
  <h3 class="widget-title"></h3>
  <div class="widget">
    <img class="avatar" src="https://avatars0.githubusercontent.com/u/20333903?v=3&amp;s=460">
    <h2 class="author">左康波</h2>
    <h3 class="description">业余文艺cg场景模型师</h3>
    <div class="count-box">
      <a href="/archives"><div><strong>46</strong><br>文章</div></a>
      <a href="/categories"><div><strong>19</strong><br>分类</div></a>
      <a href="/tags"><div><strong>46</strong><br>标签</div></a>
    </div>



    <div class="social-link">
      
        <a class="hvr-bounce-in" href="https://space.bilibili.com/17963985" target="_blank" title="bilibili">
          bilibili
        </a>
      
        <a class="hvr-bounce-in" href="/mimi/grjl.html" target="_blank" title="个人简历">
          个人简历
        </a>
      
    </div>

    <div class="friend-link">
      <h2>友情链接</h2>
      
        <a class="hvr-bounce-in" href="http://allzkb.gearhostpreview.com/" target="_blank" title="私有教程链接">
          私有教程链接
        </a>
      
        <a class="hvr-bounce-in" href="null" target="_blank" title="其他链接">
          其他链接
        </a>
      
        <a class="hvr-bounce-in" href="null" target="_blank" title="常用网页">
          常用网页
        </a>
      
        <a class="hvr-bounce-in" href="https://hdrihaven.com/" target="_blank" title="HDR纹理">
          HDR纹理
        </a>
      
    </div>
  </div>
</div>

  
</aside>
        
      </div>
      <footer id="footer">


   <link rel="stylesheet" href="/live2d/css/live2d.css" />
    <div id="landlord">
        <div class="message" style="opacity:0"></div>
        <canvas id="live2d" width="280" height="250" class="live2d"></canvas>
        <div class="hide-button">隐藏</div>
    </div>
    <script type="text/javascript" src="https://cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
    <script type="text/javascript">
        var message_Path = '/live2d/'
        var home_Path = 'https://haremu.com/'
    </script>
    <script type="text/javascript" src="/live2d/js/live2d.js"></script>
    <script type="text/javascript" src="/live2d/js/message.js"></script>
    <script type="text/javascript">
        loadlive2d("live2d", "/live2d/model/tia/model.json");
    </script>

  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy;2018 - 2019 左康波<br>
      由强力驱动 | 
      主题
      
        |<script src="http://s11.cnzz.com/z_stat.php?id=1234&web_id=1234" language="JavaScript"></script>
      
    </div>
    
  </div>


</footer>
    </div>
    

<script src="//apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="//apps.bdimg.com/libs/wow/0.1.6/wow.min.js"></script>
<script>
new WOW().init();
</script>   


  <link rel="stylesheet" href="/plugin/fancybox/jquery.fancybox.css">
  <script src="/plugin/fancybox/jquery.fancybox.pack.js"></script>



  <link rel="stylesheet" href="/plugin/galmenu/GalMenu.css">
  <script src="/plugin/galmenu/GalMenu.js"></script>
  <div class="GalMenu GalDropDown">
      <div class="circle" id="gal">
        <div class="ring">
          
            <a href="/" title="" class="menuItem">首页</a>
          
            <a href="/tags" title="" class="menuItem">标签</a>
          
            <a href="/categories" title="" class="menuItem">分类</a>
          
            <a href="/archives" title="" class="menuItem">归档</a>
          
            <a href="/mimi/grjl.html" title="" class="menuItem">简历</a>
          
            <a href="/xxxxxxx" title="" class="menuItem">搜索</a>
          
        </div>
        
          <audio id="audio" src="#"></audio>
        
      </div> 
</div>
<div id="overlay" style="opacity: 1; cursor: pointer;"></div>
  <script type="text/javascript">var items = document.querySelectorAll('.menuItem');
    for (var i = 0,
    l = items.length; i < l; i++) {
      items[i].style.left = (50 - 35 * Math.cos( - 0.5 * Math.PI - 2 * (1 / l) * i * Math.PI)).toFixed(4) + "%";
      items[i].style.top = (50 + 35 * Math.sin( - 0.5 * Math.PI - 2 * (1 / l) * i * Math.PI)).toFixed(4) + "%"
    }</script>
<script type="text/javascript">
  $(document).ready(function() {
    $('body').GalMenu({
      'menu': 'GalDropDown'
    })
  });
</script>

  <section class="hidden-xs"> 
  <ul class="cb-slideshow"> 
    <li><span>苟利</span></li> 
    <li><span>国家</span></li> 
    <li><span>生死以</span></li> 
    <li><span>岂能</span></li> 
    <li><span>祸福</span></li> 
    <li><span>趋避之</span></li> 
  </ul>
</section>
<script src="/js/script.js"></script>




  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("null", "null");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.article-title').length > 1) {
        showTime(Counter);
      }
    });
  </script>





  </div>
</body>
</html>